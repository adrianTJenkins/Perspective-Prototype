<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Anaheim|Dosis" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/view.css">
</head>

<body>
    <section id="main">
        <header>
        	<script src="assets/js/search.js" type="text/javascript"></script>
    			<script src="https://apis.google.com/js/client.js?onload=onClientLoad" type="text/javascript"></script>
            <h1><a href = "home.html">Perspective</a></h1><!-- Perspective Header -->
            	
        	<div id="search-container">
    			<form onsubmit = "search()">
      				<input id = "keyword" type="text"  placeholder="Enter keywords..." name = "q">
      				<button type="submit"><i class="fa fa-search"></i></button>
    			</form>

  			</div>
        </header>
        
        <p id = "adminLogin">Are you a producing your own broadcast as an <strong>administrater</strong>? <a href = "signIn.html">Sign in</a><br>Don't have an account? <a href = "signUp.html">Sign up</a></p>
        
    </section>
    <div id=playback>
        <section id="videos">

            <script>
            // 2. This code loads the IFrame Player API code asynchronously.
            var tag = document.createElement('script');

            tag.src = "https://www.youtube.com/iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

            // 3. This function creates an <iframe> (and YouTube player)
            //    after the API code downloads.
            var player;

            // 4. The API will call this function when the video player is ready.
            function onPlayerReady(event) {
                event.target.playVideo();
                event.target.mute();
            }
            </script>
        </section>
    </div>
    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/player.js"></script>

    <script>

	var youtubeSearch = null;
    function searchCompleted(response) {
		youtubeSearch = response;
		for (var k=0; k<youtubeSearch.items.length; k++)
		{
			$('#videos').append('<div class = "boxes"><div class="vid" id="player' + k+ '"> </div></div>');
            var player = new YT.Player('player' + k, {
                height: '60px',
                width: '90px',
                videoId: youtubeSearch.items[k].id.videoId,
                events: {
                    'onReady': onPlayerReady,
                }
            });
            var j = k+1;
           $('#player' + k).after('<button id = "cam' + k+'" class = "camera")">Camera ' + j+ '</button>');


          /*$('#cam' +k).click(function() {


             var ele = ($(this).attr('id').substring(3)); //This will remove bigPlayer from everything, then add it back to the one player

				if($('.bigPlayer').length == 0) {
          console.log($('.bigPlayer').length);
					$('#player' + ele).addClass("bigPlayer");
					$('#player' + ele).parent().addClass("bigBox");
          $('.boxes').first().before($('.bigBox'));
        } else {
        	   if($('#player' + ele).hasClass("bigPlayer"))
             {
        		   var ret = parseInt(ele, 10);
        		   ret += 1;
        		   	console.log(ret);
        		   	$('#player' + ret).parent().before($('.bigBox'));
        		    $('#player' + ele).removeClass("bigPlayer");
    		   		$('#player' + ele).parent().removeClass("bigBox");
    		   		$('#player' + ele).parent().addClass("boxes");
    		      } else {


                console.log($('.bigPlayer').attr('id'))
                var ele2 = ($('.bigPlayer').attr('id').substring(6));

        	       $('.vid').removeClass("bigPlayer"); //removes (downsizes) everything

                 $('#player' + ele).addClass("bigPlayer"); //adds (upsizes) the one player


    		   var ret = parseInt(ele2, 10);
    		   ret += 1;
    		   console.log(ret);
    		   	$('#player' + ret).parent().before($('.bigBox'));
    		    //$('#player' + ele2).removeClass("bigPlayer");
		   		$('#player' + ele2).parent().removeClass("bigBox");
		   		$('#player' + ele2).parent().addClass("boxes");

        	   $('.bigBox').addClass("boxes");

        	   $('.vid').parent().removeClass("bigBox");

        	   $('#player' + ele).parent().addClass("bigBox");

        	   $('#player' + ele).parent().removeClass("boxes");

        	   $('.boxes').first().before($('.bigBox'));
        		   }
				}
      }); */
		}
    bindCameraButtons();
    }
    </script>
</body>
</html>
